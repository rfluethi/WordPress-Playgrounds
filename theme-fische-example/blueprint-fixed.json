{
  "$schema": "https://playground.wordpress.net/blueprint-schema.json",
  "preferredVersions": {
    "php": "8.3",
    "wp": "latest"
  },
  "features": {
    "networking": true
  },
  "siteOptions": {
    "blogname": "FISCHE - Naturwunder unter Wasser",
    "blogdescription": "Entdecke die faszinierende Welt der Aquaristik"
  },
  "steps": [
    {
      "step": "installTheme",
      "themeData": {
        "resource": "url",
        "url": "https://raw.githubusercontent.com/rfluethi/WordPress-Playgrounds/main/theme-fische-example/fish-fixed.zip"
      }
    },
    {
      "step": "activateTheme",
      "themeFolderName": "fish"
    },
    {
      "step": "runPHP",
      "code": "<?php require_once '/wordpress/wp-load.php'; wp_set_current_user(1); $github_base = 'https://raw.githubusercontent.com/rfluethi/WordPress-Playgrounds/main/theme-fische-example/images/'; echo 'Creating fish categories...<br>'; $categories = array( 'buntbarsche' => 'Buntbarsche', 'labyrinthfische' => 'Labyrinthfische', 'karpfenartige' => 'Karpfenartige', 'meeresfische' => 'Meeresfische' ); foreach($categories as $slug => $name) { wp_create_category($name); echo 'Created category: ' . $name . '<br>'; } echo 'Creating homepage...<br>'; $homepage_content = '<!-- wp:cover {\"url\":\"' . $github_base . 'Wallpaper-with-a-sea-reef.webp\",\"hasParallax\":true,\"dimRatio\":0,\"minHeight\":35,\"minHeightUnit\":\"em\",\"align\":\"full\"} --> <div class=\"wp-block-cover alignfull has-parallax\" style=\"min-height:35em\"> <div class=\"wp-block-cover__image-background has-parallax\" style=\"background-position:50% 50%;background-image:url(' . $github_base . 'Wallpaper-with-a-sea-reef.webp)\"></div> <span class=\"wp-block-cover__background has-background-dim-0 has-background-dim\"></span> <div class=\"wp-block-cover__inner-container\"> <!-- wp:image {\"width\":\"400px\",\"align\":\"center\"} --> <figure class=\"wp-block-image aligncenter is-resized\"> <img src=\"' . $github_base . 'cropped-Fisch-Titelseite.webp\" alt=\"Fisch Logo\" style=\"width:400px\"/> </figure> <!-- /wp:image --> <!-- wp:heading {\"textAlign\":\"center\",\"style\":{\"color\":{\"text\":\"#ffffff\"}},\"fontSize\":\"xx-large\"} --> <h2 class=\"wp-block-heading has-text-align-center has-xx-large-font-size\" style=\"color:#ffffff\">Naturwunder unter Wasser</h2> <!-- /wp:heading --> </div> </div> <!-- /wp:cover --> <!-- wp:group {\"tagName\":\"main\"} --> <main class=\"wp-block-group\"> <!-- wp:heading {\"textAlign\":\"center\",\"fontSize\":\"xx-large\"} --> <h2 class=\"wp-block-heading has-text-align-center has-xx-large-font-size\">Entdecke sie mit mir ...</h2> <!-- /wp:heading --> <!-- wp:query {\"query\":{\"perPage\":3,\"pages\":0,\"offset\":0,\"postType\":\"post\",\"order\":\"desc\",\"orderBy\":\"date\"},\"align\":\"wide\"} --> <div class=\"wp-block-query alignwide\"> <!-- wp:post-template {\"layout\":{\"type\":\"grid\",\"columnCount\":null,\"minimumColumnWidth\":\"23rem\"}} --> <!-- wp:post-featured-image {\"isLink\":true,\"aspectRatio\":\"4/3\"} /--> <!-- wp:post-title {\"textAlign\":\"center\",\"isLink\":true,\"fontSize\":\"large\"} /--> <!-- /wp:post-template --> </div> <!-- /wp:query --> </main> <!-- /wp:group -->'; $homepage_id = wp_insert_post(array( 'post_title' => 'Startseite', 'post_content' => $homepage_content, 'post_status' => 'publish', 'post_type' => 'page' )); update_option('page_on_front', $homepage_id); update_option('show_on_front', 'page'); echo 'Homepage created and set as front page.<br>'; echo 'Creating fish posts...<br>'; $fish_posts = array( array( 'title' => 'Clownfisch', 'content' => 'Der Echte Clownfisch wird sechs bis elf Zentimeter groß. Die Länge beträgt das 2,1- bis 2,4fache der Körperhöhe. Das Tier hat drei weiße Querstreifen, der mittlere mit einer nach vorne gerichteten Ausbuchtung.', 'image' => $github_base . 'Clownfisch.webp', 'category' => 'Meeresfische' ), array( 'title' => 'Diskusfische', 'content' => 'Von allen anderen Cichliden unterscheiden sich Diskusfische durch ihren stark zusammengedrückten und hochrückigen Körperbau. Sie bieten das Erscheinungsbild der namensgebenden Diskusscheibe.', 'image' => $github_base . 'Diskusfische.webp', 'category' => 'Buntbarsche' ), array( 'title' => 'Siamesischer Kampffisch', 'content' => 'Der Siamesische Kampffisch besticht durch elegante Flossen und prächtige Farben. Er gehört zu den Labyrinthfischen und kann atmosphärischen Sauerstoff atmen.', 'image' => $github_base . 'Siamesischer-Kampffisch.webp', 'category' => 'Labyrinthfische' ) ); foreach($fish_posts as $fish) { $post_content = '<!-- wp:image {\"align\":\"center\",\"width\":500} --><figure class=\"wp-block-image aligncenter is-resized\"><img src=\"' . $fish['image'] . '\" alt=\"' . $fish['title'] . '\" style=\"width:500px\"/></figure><!-- /wp:image --><!-- wp:paragraph --><p>' . $fish['content'] . '</p><!-- /wp:paragraph -->'; $cat_term = get_term_by('name', $fish['category'], 'category'); $post_id = wp_insert_post(array( 'post_title' => $fish['title'], 'post_content' => $post_content, 'post_status' => 'publish', 'post_type' => 'post' )); if($cat_term) { wp_set_post_categories($post_id, array($cat_term->term_id)); } set_post_thumbnail($post_id, 0); echo 'Created post: ' . $fish['title'] . '<br>'; } delete_post(1); echo 'Deleted default Hello World post.<br>'; flush_rewrite_rules(); echo 'Setup completed successfully! Site ready with custom theme, content and working images.'; ?>"
    }
  ],
  "login": true,
  "landingPage": "/"
}
