{
  "$schema": "https://playground.wordpress.net/blueprint-schema.json",
  "preferredVersions": {
    "php": "8.3",
    "wp": "latest"
  },
  "features": {
    "networking": true
  },
  "siteOptions": {
    "blogname": "FISCHE - Naturwunder unter Wasser",
    "blogdescription": "Entdecke die faszinierende Welt der Aquaristik"
  },
  "steps": [
    {
      "step": "installTheme",
      "themeData": {
        "resource": "url",
        "url": "https://raw.githubusercontent.com/rfluethi/WordPress-Playgrounds/main/theme-fische-example/fish.zip"
      }
    },
    {
      "step": "activateTheme",
      "themeFolderName": "fish"
    },
    {
      "step": "runPHP",
      "code": "<?php require_once '/wordpress/wp-load.php'; wp_set_current_user(1); $github_base = 'https://raw.githubusercontent.com/rfluethi/WordPress-Playgrounds/main/theme-fische-example/images/'; echo 'Creating fish categories...<br>'; $categories = array( 'buntbarsche' => array('name' => 'Buntbarsche', 'description' => 'Buntbarsche sind eine vielfältige Familie mit ausgeprägtem Sozialverhalten und oft intensiven Farben.'), 'labyrinthfische' => array('name' => 'Labyrinthfische', 'description' => 'Labyrinthfische besitzen ein spezielles Atemorgan (Labyrinth) und können atmosphärischen Sauerstoff atmen.'), 'karpfenartige' => array('name' => 'Karpfenartige', 'description' => 'Karpfenartige sind Süsswasserfische aus der Familie der Karpfenfische, oft robust und anfängerfreundlich.'), 'meeresfische' => array('name' => 'Meeresfische', 'description' => 'Meeresfische benötigen Salzwasser und spezielle Aquarientechnik.') ); foreach($categories as $slug => $cat_data) { $cat_id = wp_create_category($cat_data['name']); wp_update_term($cat_id, 'category', array('description' => $cat_data['description'])); echo 'Created category: ' . $cat_data['name'] . '<br>'; } echo 'Creating homepage...<br>'; $homepage_content = '<!-- wp:cover {\"url\":\"' . $github_base . 'Wallpaper-with-a-sea-reef.webp\",\"hasParallax\":true,\"dimRatio\":0,\"minHeight\":35,\"minHeightUnit\":\"em\",\"align\":\"full\"} --><div class=\"wp-block-cover alignfull has-parallax\" style=\"min-height:35em\"><div class=\"wp-block-cover__image-background has-parallax\" style=\"background-position:50% 50%;background-image:url(' . $github_base . 'Wallpaper-with-a-sea-reef.webp)\"></div><span class=\"wp-block-cover__background has-background-dim-0 has-background-dim\"></span><div class=\"wp-block-cover__inner-container\"><!-- wp:image {\"width\":\"400px\",\"align\":\"center\"} --><figure class=\"wp-block-image aligncenter is-resized\"><img src=\"' . $github_base . 'cropped-Fisch-Titelseite.webp\" alt=\"Fisch Logo\" style=\"width:400px\"/></figure><!-- /wp:image --><!-- wp:heading {\"textAlign\":\"center\",\"textColor\":\"white\",\"fontSize\":\"xx-large\"} --><h2 class=\"wp-block-heading has-text-align-center has-white-color has-text-color has-xx-large-font-size\">Naturwunder unter Wasser</h2><!-- /wp:heading --></div></div><!-- /wp:cover --><!-- wp:group {\"tagName\":\"main\"} --><main class=\"wp-block-group\"><!-- wp:heading {\"textAlign\":\"center\",\"fontSize\":\"xx-large\"} --><h2 class=\"wp-block-heading has-text-align-center has-xx-large-font-size\">Entdecke sie mit mir ...</h2><!-- /wp:heading --><!-- wp:query {\"query\":{\"perPage\":3,\"pages\":0,\"offset\":0,\"postType\":\"post\",\"order\":\"desc\",\"orderBy\":\"date\"},\"align\":\"wide\"} --><div class=\"wp-block-query alignwide\"><!-- wp:post-template {\"layout\":{\"type\":\"grid\",\"columnCount\":null,\"minimumColumnWidth\":\"23rem\"}} --><!-- wp:cover {\"useFeaturedImage\":true,\"dimRatio\":0,\"minHeight\":30,\"minHeightUnit\":\"vw\",\"style\":{\"dimensions\":{\"aspectRatio\":\"4/3\"}}} --><div class=\"wp-block-cover\" style=\"min-height:30vw\"><span class=\"wp-block-cover__background has-background-dim-0 has-background-dim\"></span><div class=\"wp-block-cover__inner-container\"><!-- wp:post-title {\"textAlign\":\"center\",\"isLink\":true,\"fontSize\":\"xx-large\"} /--></div></div><!-- /wp:cover --><!-- /wp:post-template --></div><!-- /wp:query --></main><!-- /wp:group -->'; $homepage_id = wp_insert_post(array( 'post_title' => 'Startseite', 'post_content' => $homepage_content, 'post_status' => 'publish', 'post_type' => 'page' )); update_option('page_on_front', $homepage_id); update_option('show_on_front', 'page'); echo 'Homepage created and set as front page.<br>'; echo 'Creating fish posts...<br>'; $fish_posts = array( array( 'title' => 'Clownfisch', 'content' => '<!-- wp:paragraph --><p>Der Echte Clownfisch wird sechs bis elf Zentimeter groß. Die Länge beträgt das 2,1- bis 2,4fache der Körperhöhe. Das Tier hat drei weiße Querstreifen, der mittlere mit einer nach vorne gerichteten Ausbuchtung.</p><!-- /wp:paragraph -->', 'image' => $github_base . 'Clownfisch.webp', 'category' => 'meeresfische' ), array( 'title' => 'Diskusfische', 'content' => '<!-- wp:paragraph --><p>Von allen anderen Cichliden unterscheiden sich Diskusfische durch ihren stark zusammengedrückten und hochrückigen Körperbau. Sie bieten das Erscheinungsbild der namensgebenden Diskusscheibe.</p><!-- /wp:paragraph -->', 'image' => $github_base . 'Diskusfische.webp', 'category' => 'buntbarsche' ), array( 'title' => 'Siamesischer Kampffisch', 'content' => '<!-- wp:paragraph --><p>Der Siamesische Kampffisch besticht durch elegante Flossen und prächtige Farben. Er gehört zu den Labyrinthfischen und kann atmosphärischen Sauerstoff atmen.</p><!-- /wp:paragraph -->', 'image' => $github_base . 'Siamesischer-Kampffisch.webp', 'category' => 'labyrinthfische' ) ); foreach($fish_posts as $fish) { $post_content = '<!-- wp:image {\"align\":\"center\",\"width\":500} --><figure class=\"wp-block-image aligncenter is-resized\"><img src=\"' . $fish['image'] . '\" alt=\"' . $fish['title'] . '\" style=\"width:500px\"/></figure><!-- /wp:image -->' . $fish['content']; $cat_term = get_term_by('name', ucfirst($fish['category']), 'category'); $post_id = wp_insert_post(array( 'post_title' => $fish['title'], 'post_content' => $post_content, 'post_status' => 'publish', 'post_type' => 'post', 'post_category' => $cat_term ? array($cat_term->term_id) : array() )); echo 'Created post: ' . $fish['title'] . '<br>'; } echo 'Creating navigation menu...<br>'; $menu_name = 'Hauptmenü'; $menu_id = wp_create_nav_menu($menu_name); wp_update_nav_menu_item($menu_id, 0, array( 'menu-item-title' => 'Startseite', 'menu-item-object' => 'page', 'menu-item-object-id' => $homepage_id, 'menu-item-type' => 'post_type', 'menu-item-status' => 'publish' )); foreach($categories as $slug => $cat_data) { $cat_term = get_term_by('name', $cat_data['name'], 'category'); if($cat_term) { wp_update_nav_menu_item($menu_id, 0, array( 'menu-item-title' => $cat_data['name'], 'menu-item-object' => 'category', 'menu-item-object-id' => $cat_term->term_id, 'menu-item-type' => 'taxonomy', 'menu-item-status' => 'publish' )); } } $locations = get_theme_mod('nav_menu_locations'); $locations['primary'] = $menu_id; set_theme_mod('nav_menu_locations', $locations); echo 'Navigation menu created and assigned.<br>'; flush_rewrite_rules(); echo 'Setup completed successfully! Site ready with theme, content, navigation and working images.'; ?>"
    }
  ],
  "login": true,
  "landingPage": "/"
}
