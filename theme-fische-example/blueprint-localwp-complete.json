{
  "$schema": "https://playground.wordpress.net/blueprint-schema.json",
  "preferredVersions": {
    "php": "8.3",
    "wp": "latest"
  },
  "features": {
    "networking": true
  },
  "steps": [
    {
      "step": "installTheme",
      "themeData": {
        "resource": "url",
        "url": "https://raw.githubusercontent.com/rfluethi/WordPress-Playgrounds/main/theme-fische-example/twentytwentyfive.zip"
      },
      "options": {
        "activate": true
      }
    },
    {
      "step": "setSiteOptions",
      "options": {
        "blogname": "üê† FISCHE - Naturwunder unter Wasser",
        "blogdescription": "Entdecke die faszinierende Welt der Aquaristik"
      }
    },
    {
      "step": "importWxr",
      "file": {
        "resource": "url",  
        "url": "https://raw.githubusercontent.com/rfluethi/WordPress-Playgrounds/main/theme-fische-example/fische-content.xml"
      }
    },
    {
      "step": "writeFile",
      "path": "/wordpress/wp-content/uploads/2025/07/Clownfisch.webp",
      "data": {
        "resource": "url",
        "url": "https://raw.githubusercontent.com/rfluethi/WordPress-Playgrounds/main/theme-fische-example/images/Clownfisch.webp"
      }
    },
    {
      "step": "writeFile",
      "path": "/wordpress/wp-content/uploads/2025/07/Diskusfische.webp",
      "data": {
        "resource": "url",
        "url": "https://raw.githubusercontent.com/rfluethi/WordPress-Playgrounds/main/theme-fische-example/images/Diskusfische.webp"
      }
    },
    {
      "step": "writeFile",
      "path": "/wordpress/wp-content/uploads/2025/07/Labyrinthfische.webp",
      "data": {
        "resource": "url",
        "url": "https://raw.githubusercontent.com/rfluethi/WordPress-Playgrounds/main/theme-fische-example/images/Labyrinthfische.webp"
      }
    },
    {
      "step": "writeFile",
      "path": "/wordpress/wp-content/uploads/2025/07/Malabarbaerbling.webp",
      "data": {
        "resource": "url",
        "url": "https://raw.githubusercontent.com/rfluethi/WordPress-Playgrounds/main/theme-fische-example/images/Malabarbaerbling.webp"
      }
    },
    {
      "step": "writeFile",
      "path": "/wordpress/wp-content/uploads/2025/07/Schleierschwanz-Goldfisch.webp",
      "data": {
        "resource": "url",
        "url": "https://raw.githubusercontent.com/rfluethi/WordPress-Playgrounds/main/theme-fische-example/images/Schleierschwanz-Goldfisch.webp"
      }
    },
    {
      "step": "writeFile",
      "path": "/wordpress/wp-content/uploads/2025/07/Siamesischer-Kampffisch.webp",
      "data": {
        "resource": "url",
        "url": "https://raw.githubusercontent.com/rfluethi/WordPress-Playgrounds/main/theme-fische-example/images/Siamesischer-Kampffisch.webp"
      }
    },
    {
      "step": "writeFile",
      "path": "/wordpress/wp-content/uploads/2025/07/Wallpaper-with-a-sea-reef.webp",
      "data": {
        "resource": "url",
        "url": "https://raw.githubusercontent.com/rfluethi/WordPress-Playgrounds/main/theme-fische-example/images/Wallpaper-with-a-sea-reef.webp"
      }
    },
    {
      "step": "writeFile",
      "path": "/wordpress/wp-content/uploads/2025/07/cropped-Fisch-Titelseite.webp",
      "data": {
        "resource": "url",
        "url": "https://raw.githubusercontent.com/rfluethi/WordPress-Playgrounds/main/theme-fische-example/images/cropped-Fisch-Titelseite.webp"
      }
    },
    {
      "step": "runPHP",
      "code": "<?php require_once 'wordpress/wp-load.php'; $upload_dir = wp_upload_dir(); $files = glob($upload_dir['basedir'] . '/2025/07/*.webp'); foreach($files as $file) { $filename = basename($file); $attachment = array('guid' => $upload_dir['baseurl'] . '/2025/07/' . $filename, 'post_mime_type' => 'image/webp', 'post_title' => pathinfo($filename, PATHINFO_FILENAME), 'post_content' => '', 'post_status' => 'inherit'); $attach_id = wp_insert_attachment($attachment, $file); require_once(ABSPATH . 'wp-admin/includes/image.php'); $attach_data = wp_generate_attachment_metadata($attach_id, $file); wp_update_attachment_metadata($attach_id, $attach_data); } echo 'Bilder in Mediathek eingef√ºgt: ' . count($files); ?>"
    }
  ]
}
